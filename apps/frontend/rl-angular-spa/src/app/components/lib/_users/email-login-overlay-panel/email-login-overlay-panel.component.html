<p-button (onClick)="op.toggle($event)" icon="pi pi-envelope"
          [loading]="userAuthenticationStore.loggedInState() === 'LOADING'"
          [label]="'Sign ' + getVerb(isNewCustomer()) + ' With E-mail'" />
<p-overlayPanel #op>
  <form (ngSubmit)="doEmailLoginOrSignUp()">
    <div class="flex flex-column gap-3 w-25rem">
      <div>
        <span class="font-medium text-900 block mb-2">E-mail Address</span>
        <div class="flex">
          <p-inputGroup>
            <input [(ngModel)]="email" name="email" type="email" pInputText />
          </p-inputGroup>
        </div>
      </div>
      <div>
        <span class="font-medium text-900 block mb-2">Password</span>
        <div class="flex">
          <p-inputGroup>
            <input [(ngModel)]="password" name="password" type="password" pInputText />
          </p-inputGroup>
        </div>
      </div>
      <div>
        <span class="font-medium text-900 block mb-2">Submit</span>
        <div class="flex">
          <p-button
            [loading]="userAuthenticationStore.loggedInState() === 'LOADING'"
            [disabled]="!featureFlagsStore.isSignInWithEmailEnabled()"
            (click)="doEmailLoginOrSignUp()"
            class="w-full"
            data-testid="email-login-button"
            type="submit"
            icon="pi pi-check-square"
            [label]="'Sign ' + getVerb(isNewCustomer())"
            pRipple />
        </div>
      </div>
    </div>
  </form>
</p-overlayPanel>
